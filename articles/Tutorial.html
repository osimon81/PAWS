<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="PAWS">
<title>Tutorial • PAWS</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Tutorial">
<meta property="og:description" content="PAWS">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">PAWS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Install.html">Install</a>
    <a class="dropdown-item" href="../articles/Tutorial.html">Tutorial</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Tutorial</h1>
            
      
      
      <div class="d-none name"><code>Tutorial.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://osimon81.github.io/PAWS/">PAWS</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: brglm2</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'data.table::first' by 'dplyr::first' when</span></span>
<span><span class="co">#&gt; loading 'PAWS'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'data.table::last' by 'dplyr::last' when</span></span>
<span><span class="co">#&gt; loading 'PAWS'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'data.table::between' by 'dplyr::between'</span></span>
<span><span class="co">#&gt; when loading 'PAWS'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'magrittr::mod' by 'pracma::mod' when</span></span>
<span><span class="co">#&gt; loading 'PAWS'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'magrittr::or' by 'pracma::or' when loading</span></span>
<span><span class="co">#&gt; 'PAWS'</span></span>
<span><span class="co">#&gt; Warning: replacing previous import 'magrittr::and' by 'pracma::and' when</span></span>
<span><span class="co">#&gt; loading 'PAWS'</span></span></code></pre></div>
<div class="section level2">
<h2 id="pre-processing-data">Pre-processing data<a class="anchor" aria-label="anchor" href="#pre-processing-data"></a>
</h2>
<div class="section level3">
<h3 id="loading-sample-data">Loading sample data<a class="anchor" aria-label="anchor" href="#loading-sample-data"></a>
</h3>
<p>We’re going to load two example CSVs. These CSVs were created using a
custom script (see the <code><a href="../reference/h5_to_csv.html">h5_to_csv()</a></code> function if you’d like
to use it) which processes H5s exported from SLEAP into CSVs which can
be run through PAWS:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lp_manual_stim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Example_6J_female_lp_manual.csv"</span>, package <span class="op">=</span> <span class="st">"PAWS"</span><span class="op">)</span></span>
<span><span class="va">lp_arm_stim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Example_6J_female_lp_arm.csv"</span>, package <span class="op">=</span> <span class="st">"PAWS"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="plotting-sample-data">Plotting sample data<a class="anchor" aria-label="anchor" href="#plotting-sample-data"></a>
</h3>
<p>We can plot the trajectories for the paw withdrawal to determine
whether tracking was appropriate using a variety of customizable
parameters:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_filter_graphs.html">plot_filter_graphs</a></span><span class="op">(</span>csv_or_path <span class="op">=</span> <span class="va">lp_manual_stim</span>,</span>
<span>                   p_cutoff <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                   reference_distance <span class="op">=</span> <span class="fl">40</span>,</span>
<span>                   manual_scale_factor <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                   fps <span class="op">=</span> <span class="fl">2000</span>,</span>
<span>                   savgol_window_length <span class="op">=</span> <span class="fl">25</span>,</span>
<span>                   median_window_length <span class="op">=</span> <span class="fl">25</span>,</span>
<span>                   average_window_length <span class="op">=</span> <span class="fl">25</span>,</span>
<span>                   fixed_baseline <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                   y_threshold <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>                   body_part <span class="op">=</span> <span class="st">"center"</span>,</span>
<span>                   axis <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Registered S3 method overwritten by 'quantmod':</span></span>
<span><span class="co">#&gt;   method            from</span></span>
<span><span class="co">#&gt;   as.zoo.data.frame zoo</span></span>
<span><span class="co">#&gt; Warning: Removed 24 rows containing missing values (`geom_point()`).</span></span></code></pre></div>
<p><img src="Tutorial_files/figure-html/plot%20manual%20light%20pinprick%20stimulus%20trajectory-1.png" width="700"></p>
<p>Notice how the transparency of each data point reflects the tracking
confidence, as a qualitative way of assessing outliers. We’ll take apart
the different settings for the <code><a href="../reference/plot_filter_graphs.html">plot_filter_graphs()</a></code>
function here, and then describe how we can optimize these settings to
design an optimal filter for our data.</p>
<ol style="list-style-type: decimal">
<li>the <code>csv_or_path</code> variable refers to the path to the CSV
you wish to track. Here, we’re looking at a trajectory for a manual
stimulation in our sample dataset.</li>
<li>the <code>p_cutoff</code> variable refers to the confidence level at
which you want to replace the data with interpolation. In other words,
you might want to replace outlier points that were mistracked with
interpolation between more confident points. Setting a
<code>p_cutoff</code> of 0.1 replaces all the points that the model was
&lt;10% confident about with interpolation.</li>
<li>The <code>reference_distance</code> variable refers to the
real-world distance between your two reference points. Our points in
this example CSV were the top and bottom of a chamber (which we measured
to be 40mm), so this value is set to 40. This distance will be used to
adaptively calculate a scale factor for each video and scale your data
appropriately, regardless of whether the camera you used was at
different distances in different videos.</li>
<li>The <code>manual_scale_factor</code> variable can be used if you
don’t wish to use reference objects to adaptively calculate scale
factors. This is usually the case when you are <em>certain</em> your
camera is always at the same distance away from your target, so you can
enter a millimeter/pixel scale factor to be used for every single one of
your videos. Keep in mind that setting a
<code>manual_scale_factor</code> will override the
<code>reference_distance</code> and adaptive calculations — the code
will use your <code>manual_scale_factor</code> to scale all of your
videos to scale them to millimeters.</li>
<li>The <code>fps</code> variable can be used to set the number of
frames per second in your video to set a timescale for behavior. Here,
we use 2000 fps. 6-8) The <code>savgol_window_length</code>,
<code>median_window_length</code>, and
<code>average_window_length</code> variables define the degree of
smoothing (using either a Savitzky-Golay filter, a rolling median
filter, or a rolling average filter) you wish to apply to the trajectory
data. As a default, these values are set to 25, but you can increase or
decrease the window of data-points each filter will use to apply
smoothing. Generally, a higher window length results in increased
smoothing, but be sure that by applying too high a level of smoothing,
you are not suppressing any subtle behaviors. 9-10) For
<code>body_part</code>, indicate whether you wish to show trajectories
for the “toe,” the “center,” or the “heel.” For <code>axis</code>,
indicate whether you wish to show trajectories for the given body part
using the “x” axis or the “y” axis.</li>
</ol>
<p>Next, we’ll look at how we can alter these parameters to optimize the
levels of smoothing. The following code chunk plots trajectories from a
mouse in the ARM group:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_filter_graphs.html">plot_filter_graphs</a></span><span class="op">(</span>csv_or_path <span class="op">=</span> <span class="va">lp_arm_stim</span>,</span>
<span>                   p_cutoff <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                   reference_distance <span class="op">=</span> <span class="fl">40</span>,</span>
<span>                   manual_scale_factor <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                   fps <span class="op">=</span> <span class="fl">2000</span>,</span>
<span>                   savgol_window_length <span class="op">=</span> <span class="fl">11</span>,</span>
<span>                   median_window_length <span class="op">=</span> <span class="fl">11</span>,</span>
<span>                   average_window_length <span class="op">=</span> <span class="fl">11</span>,</span>
<span>                   fixed_baseline <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                   y_threshold <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>                   body_part <span class="op">=</span> <span class="st">"center"</span>,</span>
<span>                   axis <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 10 rows containing missing values (`geom_point()`).</span></span></code></pre></div>
<p><img src="Tutorial_files/figure-html/plotting%20ARM%20data-1.png" width="700"></p>
<p>With more complicated trajectories (as the one we’re seeing above for
the example ARM CSV), certain smoothing filters tend to work better than
others. We’ve found that the rolling average filter (figure D above)
tends to be the most robust. In this subplot, we see a very smooth
trajectory (using filter windows of 11), but notice how it slightly
reduces the maximum peak of the filter. Setting a higher filter window
will dampen these peaks even further, so using this function is a
helpful pre-processing step to optimize smoothing for a given video.</p>
<p>Finally, we’ll also increase the p-cutoff from 0 to 80% to see how
data changes:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_filter_graphs.html">plot_filter_graphs</a></span><span class="op">(</span>csv_or_path <span class="op">=</span> <span class="va">lp_arm_stim</span>,</span>
<span>                   p_cutoff <span class="op">=</span> <span class="fl">0.80</span>,</span>
<span>                   reference_distance <span class="op">=</span> <span class="fl">40</span>,</span>
<span>                   manual_scale_factor <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                   fps <span class="op">=</span> <span class="fl">2000</span>,</span>
<span>                   savgol_window_length <span class="op">=</span> <span class="fl">11</span>,</span>
<span>                   median_window_length <span class="op">=</span> <span class="fl">11</span>,</span>
<span>                   average_window_length <span class="op">=</span> <span class="fl">11</span>,</span>
<span>                   fixed_baseline <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                   y_threshold <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>                   body_part <span class="op">=</span> <span class="st">"center"</span>,</span>
<span>                   axis <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 10 rows containing missing values (`geom_point()`).</span></span></code></pre></div>
<p><img src="Tutorial_files/figure-html/increase%20p-cutoff-1.png" width="700"></p>
<p>You will generally want to pick a p-cutoff based off of the
confidence of your model’s tracking. Here, we’ve picked a p-cutoff of
0.8 (i.e. every point for which the model is 80% confident or less will
be replaced with interpolation). You’ll be able to qualitatively
visualize how tracked points with a confidence less than the p-cutoff
threshold were instead interpolated between points that were above the
threshold. As shown above, you can use this function to determine a
balance between smoothing levels, the filter chosen for smoothing, and
the p-cutoff to produce clean trajectories without suppressing subtle
behaviors.</p>
</div>
<div class="section level3">
<h3 id="running-paws-diagnostics">Running PAWS diagnostics<a class="anchor" aria-label="anchor" href="#running-paws-diagnostics"></a>
</h3>
<p>PAWS runs analysis primarily on a univariate projection — a
combination of the x and y components, weighted based off of how much
movement there is in a particular axis. It’s important to not only graph
the raw trajectories of a paw over time in each axis, but also to graph
the univariate projection and other diagnostic plots built into
<code>paws</code> when troubleshooting or optimizing your workflow. To
produce these plots using the settings from the most recent smoothing
settings, you can run the following function:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_univariate_projection.html">plot_univariate_projection</a></span><span class="op">(</span>csv_or_path <span class="op">=</span> <span class="va">lp_arm_stim</span>,</span>
<span>                   p_cutoff <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>                   reference_distance <span class="op">=</span> <span class="fl">40</span>,</span>
<span>                   manual_scale_factor <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                   filter <span class="op">=</span> <span class="st">"average"</span>,</span>
<span>                   fps <span class="op">=</span> <span class="fl">2000</span>,</span>
<span>                   average_window_length <span class="op">=</span> <span class="fl">11</span>,</span>
<span>                   fixed_baseline <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                   y_threshold <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>                   body_part <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Tutorial_files/figure-html/plotting%20smoothed%20univariate%20projection%20with%20average%20filter-1.png" width="480"></p>
<p>You’ll notice how the plots above are much smoother than if we run
diagnostics on the same video, without smoothing the data first (shown
below):</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_univariate_projection.html">plot_univariate_projection</a></span><span class="op">(</span>csv_or_path <span class="op">=</span> <span class="va">lp_arm_stim</span>,</span>
<span>                   p_cutoff <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                   reference_distance <span class="op">=</span> <span class="fl">40</span>,</span>
<span>                   manual_scale_factor <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>                   filter <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>                   fps <span class="op">=</span> <span class="fl">2000</span>,</span>
<span>                   body_part <span class="op">=</span> <span class="st">"center"</span>,</span>
<span>                   fixed_baseline <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                   y_threshold <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>                   shake_threshold <span class="op">=</span> <span class="fl">0.35</span><span class="op">)</span></span></code></pre></div>
<p><img src="Tutorial_files/figure-html/plotting%20raw%20univariate%20projection-1.png" width="480"></p>
<p>Above, you can also alter the <code>shake_threshold</code> parameter
to make the PAWS algorithm more or less sensitive to detecting shaking
behaviors (for instance, try changing 0.35 to 0.10).</p>
<p>Finally, one of the most important thresholds to set is the
<code>window_threshold</code>, which specifies how sensitive PAWS will
be in examining paw trajectories for a withdrawal behavior. Setting a
lower threshold will result in higher sensitivity, while a higher
threshold will result in lower sensitivity. If you have videos that
aren’t being scored because the paw activity window was not found
(especially common with innocuous stimuli), try setting a lower
threshold.</p>
<p>Before running analysis on our entire dataset, we can prospectively
see what the PAWS output for this video would look like by running the
function <code><a href="../reference/mini_paws.html">mini_paws()</a></code> on the toe, center, and heel body
parts for our CSV:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">toe</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mini_paws.html">mini_paws</a></span><span class="op">(</span></span>
<span>  csv_or_path <span class="op">=</span> <span class="va">lp_arm_stim</span>, p_cutoff <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  reference_distance <span class="op">=</span> <span class="fl">40</span>, manual_scale_factor <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  filter <span class="op">=</span> <span class="st">"average"</span>, average_window_length <span class="op">=</span> <span class="fl">11</span>,</span>
<span>  fixed_baseline <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  y_threshold <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  fps <span class="op">=</span> <span class="fl">2000</span>, body_part <span class="op">=</span> <span class="st">"toe"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">center</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mini_paws.html">mini_paws</a></span><span class="op">(</span></span>
<span>  csv_or_path <span class="op">=</span> <span class="va">lp_arm_stim</span>, p_cutoff <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  reference_distance <span class="op">=</span> <span class="fl">40</span>, manual_scale_factor <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  filter <span class="op">=</span> <span class="st">"average"</span>, average_window_length <span class="op">=</span> <span class="fl">11</span>,</span>
<span>  fixed_baseline <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  y_threshold <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  fps <span class="op">=</span> <span class="fl">2000</span>, body_part <span class="op">=</span> <span class="st">"center"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">heel</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mini_paws.html">mini_paws</a></span><span class="op">(</span></span>
<span>  csv_or_path <span class="op">=</span> <span class="va">lp_arm_stim</span>, p_cutoff <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  reference_distance <span class="op">=</span> <span class="fl">40</span>, manual_scale_factor <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  filter <span class="op">=</span> <span class="st">"average"</span>, average_window_length <span class="op">=</span> <span class="fl">11</span>,</span>
<span>  fixed_baseline <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  y_threshold <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  fps <span class="op">=</span> <span class="fl">2000</span>, body_part <span class="op">=</span> <span class="st">"heel"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">lp_arm_manual</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">toe</span>, <span class="va">center</span>, <span class="va">heel</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/row.names.html" class="external-link">row.names</a></span><span class="op">(</span><span class="va">lp_arm_manual</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"toe"</span>, <span class="st">"center"</span>, <span class="st">"heel"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lp_arm_manual</span></span>
<span><span class="co">#&gt;        pre.pain_score post.pain_score pre.max_height pre.max_x_velocity</span></span>
<span><span class="co">#&gt; toe        -0.3116669      0.32753717       7.760343           1489.410</span></span>
<span><span class="co">#&gt; center     -0.4265664     -0.02546354       6.696816           1675.167</span></span>
<span><span class="co">#&gt; heel       -0.6157240      3.71363989       5.380741           1477.692</span></span>
<span><span class="co">#&gt;        pre.max_y_velocity pre.distance_traveled post.max_height</span></span>
<span><span class="co">#&gt; toe             1131.6070              12.20117       10.278125</span></span>
<span><span class="co">#&gt; center          1033.9974              12.06299        7.873508</span></span>
<span><span class="co">#&gt; heel             708.4806              10.23666       22.810259</span></span>
<span><span class="co">#&gt;        post.max_x_velocity post.max_y_velocity post.distance_traveled</span></span>
<span><span class="co">#&gt; toe               2483.291            1900.523               77.61317</span></span>
<span><span class="co">#&gt; center            2235.985            1606.068               70.06825</span></span>
<span><span class="co">#&gt; heel              1648.575            9296.099               98.83826</span></span>
<span><span class="co">#&gt;        post.number_of_shakes post.shaking_duration post.guarding_duration</span></span>
<span><span class="co">#&gt; toe                        4                0.0540                 0.0295</span></span>
<span><span class="co">#&gt; center                     4                0.0535                 0.0270</span></span>
<span><span class="co">#&gt; heel                       4                0.0245                 0.1650</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="running-paws">Running PAWS<a class="anchor" aria-label="anchor" href="#running-paws"></a>
</h2>
<p>Finally, if we are happy with the degree of smoothing and diagnostic
plots, we’re ready to run PAWS on a full set of CSVs. The
<code><a href="../reference/paws_analysis.html">paws_analysis()</a></code> function uses many of the same parameters
as were mentioned earlier, so we will show an example of how to run this
using our sample dataset:</p>
<p>[note: the following code will throw a saving error because of how
the R Markdown notebook works, but you can set a custom saveDirectory in
the function to run it!]</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/paws_analysis.html">paws_analysis</a></span><span class="op">(</span>csvDirectory <span class="op">=</span> <span class="st">"demo/sample_data"</span>,</span>
<span>              saveDirectory <span class="op">=</span> <span class="st">"enter_save_path_here"</span>,</span>
<span>              p_cutoff <span class="op">=</span> <span class="fl">0.8</span>, manual_scale_factor <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>              filter_chosen <span class="op">=</span> <span class="st">"average"</span>, filter_length <span class="op">=</span> <span class="fl">11</span>,</span>
<span>              reference_distance <span class="op">=</span> <span class="fl">40</span>, stims <span class="op">=</span> <span class="st">"lp"</span>,</span>
<span>              body_parts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"toe"</span>, <span class="st">"center"</span>, <span class="st">"heel"</span><span class="op">)</span>,</span>
<span>              reference_points <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"objecta"</span>, <span class="st">"objectb"</span><span class="op">)</span>, </span>
<span>              groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"arm"</span>, <span class="st">"manual"</span><span class="op">)</span>, fps <span class="op">=</span> <span class="fl">2000</span>,</span>
<span>              shake_threshold <span class="op">=</span> <span class="fl">0.35</span>,</span>
<span>              fixed_baseline <span class="op">=</span> <span class="fl">1</span>,</span>
<span>              y_threshold <span class="op">=</span> <span class="fl">0.1</span>,<span class="op">)</span></span></code></pre></div>
<p>You can also accomplish all of the previous steps and analysis using
an interactive dashboard by running the following code:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/paws_dashboard.html">paws_dashboard</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Simon Ogundare, Justin Burdge, Anissa Jhumka, Colin Twomey, Ishmail Abdus-Saboor.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
